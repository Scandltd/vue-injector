(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{160:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"справочник-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#справочник-api","aria-hidden":"true"}},[t._v("#")]),t._v(" Справочник API")]),s("h2",{attrs:{id:"injectable"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#injectable","aria-hidden":"true"}},[t._v("#")]),s("code",[t._v("@Injectable")])]),s("p",[s("code",[t._v("@Injectable")]),t._v(" — это декоратор, предназначенный для объявления сервиса. По умолчанию в созданном сервисе в свойстве "),s("code",[t._v("vm")]),t._v(" доступно приложение "),s("code",[t._v("Vue")]),t._v(". Кроме того, существует возможность внедрить дополненные сервисы в текущий и добавить собственный контекст.")]),s("p",[s("code",[t._v("@Injectable")]),t._v(" должен быть обязательно указан для создаваемого сервиса.")]),s("h3",{attrs:{id:"usefactory"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#usefactory","aria-hidden":"true"}},[t._v("#")]),t._v(" useFactory")]),s("ul",[s("li",[s("p",[t._v("тип: "),s("code",[t._v("function")])])]),s("li",[s("p",[t._v("не обязательный")]),s("p",[t._v("Сигнатура:")]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token function"}},[t._v("useFactory")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" any\n")])])]),s("p",[t._v("Использование фабрики для построения сервиса.")]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("Logger")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n@"),s("span",{attrs:{class:"token function"}},[t._v("Injectable")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    useFactory"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("Logger")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("UserService")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("Inject")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])]),s("h2",{attrs:{id:"injectableconstructor"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#injectableconstructor","aria-hidden":"true"}},[t._v("#")]),s("code",[t._v("InjectableConstructor")])]),s("h3",{attrs:{id:"name"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#name","aria-hidden":"true"}},[t._v("#")]),t._v(" name")]),s("ul",[s("li",[s("p",[t._v("тип: "),s("code",[t._v("string")])]),s("p",[t._v("Имя текущего сервиса.")])])]),s("h3",{attrs:{id:"isvueservice"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#isvueservice","aria-hidden":"true"}},[t._v("#")]),t._v(" isVueService")]),s("ul",[s("li",[s("p",[t._v("тип: "),s("code",[t._v("boolean")])])]),s("li",[s("p",[t._v("по умолчанию: "),s("code",[t._v("true")])]),s("p",[t._v("Показывает, является ли объект сервисом.")])])]),s("h2",{attrs:{id:"vueinjector"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vueinjector","aria-hidden":"true"}},[t._v("#")]),s("code",[t._v("VueInjector")])]),s("h3",{attrs:{id:"app"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#app","aria-hidden":"true"}},[t._v("#")]),t._v(" app")]),s("ul",[s("li",[s("p",[t._v("тип: "),s("code",[t._v("Vue instance")])]),s("p",[t._v("Корневой экземпляр Vue, в который внедряется "),s("code",[t._v("injector")]),t._v(".")])])]),s("h3",{attrs:{id:"provider"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#provider","aria-hidden":"true"}},[t._v("#")]),t._v(" provider")]),s("ul",[s("li",[s("p",[t._v("тип: "),s("code",[t._v("Provider")])]),s("p",[t._v("Провайдер, предоставляющий доступ к сервисам в виде "),s("a",{attrs:{href:"#provider-2"}},[t._v("объекта Provider")]),t._v(".")])])]),s("h3",{attrs:{id:"initcomponent"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#initcomponent","aria-hidden":"true"}},[t._v("#")]),t._v(" initComponent")]),s("p",[t._v("Сигнатура:")]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token function"}},[t._v("initComponent")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("component"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Component"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("Внедрение в компонент указанных в свойстве "),s("code",[t._v("providers")]),t._v(" сервисов.")]),s("h3",{attrs:{id:"get"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#get","aria-hidden":"true"}},[t._v("#")]),t._v(" get")]),s("p",[t._v("Сигнатура:")]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("get")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("service"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" InjectableConstructor"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("Возвращает экземпляр запрашиваемого сервиса. Создает экземпляр, если его еще не существует, и внедряет его в корневой экземпляр Vue.")]),s("h2",{attrs:{id:"provider-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#provider-2","aria-hidden":"true"}},[t._v("#")]),s("code",[t._v("Provider")])]),s("p",[s("strong",[t._v("Объект (Provider)")]),t._v(" регистрирует сервисы и предоставляет к ним доступ.")]),s("p",[t._v("Объект "),s("code",[t._v("Provider")]),t._v(" иммутабелен. Каждая регистрация компонента будет создавать необходимые ему сервисы.")]),s("h3",{attrs:{id:"app-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#app-2","aria-hidden":"true"}},[t._v("#")]),t._v(" app")]),s("ul",[s("li",[s("p",[t._v("тип: "),s("code",[t._v("Vue instance")])]),s("p",[t._v("Корневой экземпляр Vue, в который внедряется "),s("code",[t._v("injector")]),t._v(".")])])]),s("h3",{attrs:{id:"services"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#services","aria-hidden":"true"}},[t._v("#")]),t._v(" services")]),s("ul",[s("li",[s("p",[t._v("тип: "),s("code",[t._v("Map<typeof InjectableConstructor, any>")])]),s("p",[t._v("Объект, который содержит пары ключ/значение подключенных сервисов. Если параметров нет, то значением будет пустой объект.")])])]),s("h3",{attrs:{id:"initcomponent-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#initcomponent-2","aria-hidden":"true"}},[t._v("#")]),t._v(" initComponent")]),s("p",[t._v("Сигнатура:")]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token function"}},[t._v("initComponent")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("component"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Component"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("Внедрение в компонент указанных в свойстве "),s("code",[t._v("providers")]),t._v(" сервисов.")]),s("h3",{attrs:{id:"registerservice"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#registerservice","aria-hidden":"true"}},[t._v("#")]),t._v(" registerService")]),s("p",[t._v("Сигнатура:")]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token function"}},[t._v("registerService")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" InjectedObject"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" string"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Service"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" InjectableConstructor"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("Внедрение сервиса в указаный объект. Возвращает экземпляр сервиса.")]),s("h3",{attrs:{id:"get-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#get-2","aria-hidden":"true"}},[t._v("#")]),t._v(" get")]),s("p",[t._v("Сигнатура:")]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("get")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("service"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" InjectableConstructor"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("Возвращает экземпляр запрашиваемого сервиса. Создает экземпляр, если его еще не существует, и внедряет его в корневой экземпляр Vue.")]),s("h2",{attrs:{id:"интеграция-в-компоненты"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#интеграция-в-компоненты","aria-hidden":"true"}},[t._v("#")]),t._v(" Интеграция в компоненты")]),s("p",[t._v("Для внедрении зависимости можно использовать два метода:")]),s("ul",[s("li",[t._v("используя свойство компонента "),s("code",[t._v("providers")])]),s("li",[t._v("используя декоратор "),s("code",[t._v("@Service")])])]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("   "),s("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Injectable"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Inject "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'@scandltd/vue-injector'")]),t._v("\n\n   @Injectable\n   "),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("LogService")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n   "),s("span",{attrs:{class:"token comment"}},[t._v("// Используя свойство `providers`")]),t._v("\n   "),s("span",{attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       providers"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n           LogService\n       "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n   "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n   "),s("span",{attrs:{class:"token comment"}},[t._v("// Используя декоратор")]),t._v("\n   @Component\n   "),s("span",{attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("Component")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("Vue")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       @"),s("span",{attrs:{class:"token function"}},[t._v("Inject")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("LogService"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" service"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"внедряемые-в-компоненты-свойства"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#внедряемые-в-компоненты-свойства","aria-hidden":"true"}},[t._v("#")]),t._v(" Внедряемые в компоненты свойства")]),s("p",[t._v("Эти свойства внедряются в каждый дочерний компонент, передавая экземпляр DI в корневой экземпляр в качестве опции "),s("code",[t._v("injector")]),t._v(".")]),s("ul",[s("li",[s("p",[s("strong",[t._v("this.$injector")])]),s("p",[t._v("Экземпляр инжектора.")])]),s("li",[s("p",[s("strong",[t._v("this.< ServiceName >")])]),s("p",[t._v("Предоставляемые сервисы. Эти свойства только для чтения.")])])])])}],!1,null,null,null);a.default=e.exports}}]);